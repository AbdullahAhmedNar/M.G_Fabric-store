{
  "name": "mg-fabric-store",
  "version": "2.0.6",
  "description": "M.G - Fabric Store Management System - Complete Profit/Loss Calculation System",
  "main": "electron/main.js",
  "author": "M.G Systems",
  "homepage": "https://github.com/mg-systems/fabric-store",
  "repository": {
    "type": "git",
    "url": "https://github.com/mg-systems/fabric-store.git"
  },
  "keywords": [
    "fabric-store",
    "inventory-management",
    "sales-management",
    "supplier-management",
    "electron",
    "react",
    "sqlite"
  ],
  "changelog": {
    "2.0.6": [
      "✅ إصلاح فلترة الإحصائيات حسب السنة - جميع الأقسام تعرض بيانات السنة المحددة",
      "✅ إضافة بيانات العملاء والموردين حسب السنة في الإحصائيات",
      "✅ إضافة أكثر الأصناف مبيعاً حسب السنة",
      "✅ إضافة بيانات الأرباح والخسائر حسب السنة",
      "✅ تحسين عرض الإحصائيات عند اختيار سنة معينة"
    ],
    "2.0.5": [
      "✅ صافي المبيعات والمكسب: طرح المرتجعات من المبيعات وتكلفة المرتجعات بشكل صحيح",
      "✅ إجمالي الأوردرات الراجعة في الإحصائيات وصفحة المبيعات (من كشوف الحساب)",
      "✅ المعادلة المحاسبية لصافي الربح تتضمن المرتجعات وصافي الإيرادات",
      "✅ إعادة الضبط تمحو الأوردرات الراجعة أيضاً (returned_orders)",
      "✅ إصلاح ظهور الإحصائيات أصفاراً: ترتيب الحسابات وتقوية معالجة المرتجعات"
    ],
    "2.0.4": [
      "✅ Fixed account balance calculation - returned orders no longer counted as payments",
      "✅ Account now shows 'مسدد بالكامل' when orders are fully returned",
      "✅ Corrected remaining balance calculation logic"
    ],
    "2.0.3": [
      "✅ Fixed returned orders display - value now shows in paid column",
      "✅ Improved red border visibility for payments and returned orders",
      "✅ Enhanced border styling with inline styles for better compatibility"
    ],
    "2.0.2": [
      "✅ Removed all backup size limits - unlimited backup support",
      "✅ Enhanced for large databases (supports up to 50GB backups)",
      "✅ Added intelligent file size notifications (MB/GB)",
      "✅ Optimized for local data operations",
      "✅ Improved progress messages for large file operations",
      "✅ Better user experience with size-aware notifications"
    ],
    "2.0.1": [
      "✅ Fixed backup restore error (413 Payload Too Large)",
      "✅ Added dynamic backup file size support (up to 500MB)",
      "✅ Enhanced backup restore with better error handling",
      "✅ Added file size display during backup operations",
      "✅ Improved backup system to handle large databases",
      "✅ Added detailed logging for backup operations"
    ],
    "2.0.0": [
      "✅ Added detailed profit/loss calculation section in statistics",
      "✅ Enhanced cost tracking for sold items (COGS)",
      "✅ Added gross profit and profit margin calculations",
      "✅ Fixed unit display (meters/kilograms) in sales from inventory",
      "✅ Added cost and profit display in sales page",
      "✅ Added warnings for operations without cost",
      "✅ Fixed API 500 errors in statistics endpoint",
      "✅ Improved profit calculation: Only sold items affect profit, not all purchases",
      "✅ Enhanced statistics UI with SVG icons and detailed breakdown",
      "✅ Fixed internal/external expenses impact on net profit"
    ],
    "1.1.0": [
      "✅ Fixed supplier management issues in distributed version",
      "✅ Added multi-item sales functionality",
      "✅ Enhanced error handling and logging",
      "✅ Added invoice printing with thermal receipt format",
      "✅ Improved database transaction handling",
      "✅ Added comprehensive error messages in Arabic",
      "✅ Fixed 500 Internal Server Error in supplier operations",
      "✅ Enhanced data validation and error recovery"
    ]
  },
  "scripts": {
    "start": "concurrently \"npm run dev\" \"wait-on http://localhost:5173 && electron .\"",
    "start:prod": "npm run build && electron .",
    "start:prod:force": "npm run build:force && electron .",
    "dev": "vite",
    "build": "vite build",
    "build:force": "rm -rf dist && vite build",
    "dist": "npm run build && electron-builder",
    "dist:clean": "npm run build:force && electron-builder --publish=never",
    "dist:win": "npm run build && electron-builder --win --x64",
    "server": "node server/index.js",
    "reset-db": "node -e \"const db = require('./server/database'); const dbManager = new db(); dbManager.resetDatabase(); console.log('Database reset successfully');\"",
    "rebuild": "npx electron-rebuild",
    "rebuild:sqlite3": "cd node_modules/better-sqlite3 && npm run build-release",
    "postinstall": "npm run rebuild:sqlite3 && npx electron-rebuild"
  },
  "dependencies": {
    "array-flatten": "^3.0.0",
    "bcryptjs": "^2.4.3",
    "better-sqlite3": "^12.4.1",
    "cors": "^2.8.5",
    "express": "^4.21.2",
    "html2canvas": "^1.4.1",
    "jspdf": "^2.5.1",
    "jspdf-autotable": "^3.8.2",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.20.0",
    "xlsx": "^0.18.5"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.2.1",
    "autoprefixer": "^10.4.16",
    "concurrently": "^8.2.2",
    "electron": "^28.0.0",
    "electron-builder": "^24.9.1",
    "electron-rebuild": "^3.2.9",
    "postcss": "^8.4.32",
    "tailwindcss": "^3.4.0",
    "vite": "^5.0.8",
    "wait-on": "^7.2.0"
  },
  "build": {
    "appId": "com.mg.fabricstore",
    "productName": "M.G Fabric Store",
    "directories": {
      "output": "release"
    },
    "asar": true,
    "publish": null,
    "win": {
      "icon": "src/images/A.NAR (1).ico",
      "target": [
        {
          "target": "nsis",
          "arch": [
            "x64"
          ]
        }
      ]
    },
    "nsis": {
      "oneClick": false,
      "allowToChangeInstallationDirectory": true,
      "createDesktopShortcut": true,
      "createStartMenuShortcut": true,
      "deleteAppDataOnUninstall": false,
      "displayLanguageSelector": false,
      "installerLanguages": [
        "ar",
        "en"
      ],
      "language": "1033"
    },
    "files": [
      "dist/**/*",
      "electron/**/*",
      "server/**/*",
      "node_modules/**/*",
      "package.json"
    ],
    "extraFiles": [
      {
        "from": "assets",
        "to": "assets",
        "filter": [
          "**/*"
        ]
      }
    ],
    "extraResources": [
      {
        "from": "server/mg_fabric.db",
        "to": "mg_fabric.db"
      }
    ],
    "asarUnpack": [
      "**/mg_fabric.db"
    ]
  }
}
